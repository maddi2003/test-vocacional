{% extends 'base.html' %}

{% block title %}Test Vocacional{% endblock %}

{% block content %}
<style>
  :root {
    --rojo-instituto: #d62828;
    --azul-instituto: #003566;
  }

  body {
    background: linear-gradient(135deg, var(--azul-instituto), #0d1b2a);
  }

  h2 {
    color: var(--rojo-instituto);
    text-shadow: 1px 1px 6px rgba(0, 0, 0, 0.3);
    animation: fadeInDown 1s ease;
  }

  .card {
    background-color: #ffffff;
    border-radius: 20px;
    border-left: 6px solid var(--rojo-instituto);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
  }

  .card-title {
    color: var(--azul-instituto);
  }

  .form-check-input {
    accent-color: var(--rojo-instituto);
    transform: scale(1.2);
  }

  .form-check-label {
    font-size: 1.05rem;
  }

  .btn-enviar {
    background: linear-gradient(to right, var(--rojo-instituto), var(--azul-instituto));
    border: none;
    border-radius: 40px;
    color: white;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .btn-enviar:hover {
    transform: scale(1.05);
    background: linear-gradient(to right, var(--azul-instituto), var(--rojo-instituto));
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.4);
  }

  @keyframes fadeInDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }

</style>

<div class="container mt-5 mb-5">
  <div class="text-center mb-5">
    <h2 class="fw-bold">ðŸ§  Test Vocacional</h2>
    <p class="text-light fs-5">Selecciona la opciÃ³n que mÃ¡s se acerque a ti en cada pregunta.</p>
  </div>

  <form method="post" class="needs-validation" novalidate>
    {% for p in preguntas %}
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h5 class="card-title fw-semibold">{{ p['texto'] }}</h5>
          <hr>
          {% for r in respuestas_map[p['id_pregunta']] %}
            <div class="form-check mb-2">
              <input 
                class="form-check-input" 
                type="radio" 
                id="r_{{ r['id_respuesta'] }}" 
                name="q_{{ p['id_pregunta'] }}" 
                value="{{ r['id_respuesta'] }}" 
                required
              >
              <label class="form-check-label" for="r_{{ r['id_respuesta'] }}">
                {{ r['texto'] }}
              </label>
            </div>
          {% endfor %}
        </div>
      </div>
    {% endfor %}

    <div class="text-center mt-4">
      <button type="submit" class="btn btn-enviar btn-lg px-5 py-2 shadow-lg">
        ðŸš€ Enviar Test
      </button>
    </div>
  </form>
</div>
{% endblock %}
